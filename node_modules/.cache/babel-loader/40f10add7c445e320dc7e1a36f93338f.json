{"ast":null,"code":"var _jsxFileName = \"/Users/jema/Projects/Upload-File-React-JS/src/components/Upload.js\";\nimport React, { useState } from 'react';\nimport './Upload.scss';\n\nconst Upload = () => {\n  const [highlight, setHighlight] = useState(false);\n  const [preview, setPreview] = useState(\"\");\n  const [drop, setDrop] = useState(false);\n\n  const handleEnter = e => {\n    e.preventDefault();\n    e.stopPropagation();\n    console.log(\"enter!\");\n    preview === \"\" && setHighlight(true);\n  };\n\n  const handleOver = e => {\n    e.preventDefault();\n    e.stopPropagation();\n    console.log(\"over!\");\n    preview === \"\" && setHighlight(true);\n  };\n\n  const handleLeave = e => {\n    e.preventDefault();\n    e.stopPropagation();\n    console.log(\"leave!\");\n    setHighlight(false);\n  };\n\n  const handleUpload = e => {\n    e.preventDefault();\n    e.stopPropagation();\n    console.log(\"drop!\");\n    setHighlight(false);\n    setDrop(true);\n    const [file] = e.target.files || e.dataTransfer.files;\n    uploadFile(file);\n  };\n\n  function uploadFile(file) {\n    const reader = new FileReader();\n    reader.readAsBinaryString(file);\n\n    reader.onload = () => {\n      // this is the base64 data\n      const fileRes = btoa(reader.result);\n      console.log(`data:image/jpg;base64,${fileRes}`);\n      setPreview(`data:image/jpg;base64,${fileRes}`);\n    };\n\n    reader.onerror = () => {\n      console.log(\"There is a problem while uploading...\");\n    };\n  }\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    onDragEnter: e => handleEnter(e),\n    onDragLeave: e => handleLeave(e),\n    onDragOver: e => handleOver(e),\n    onDrop: e => handleUpload(e),\n    className: `upload${highlight ? \" is-highlight\" : drop ? \" is-drop\" : \"\"}`,\n    style: {\n      backgroundImage: `url(${preview})`\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    class: \"my-form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 11\n    }\n  }, \"Drag and Drop image here\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"upload-button-wrap\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"file\",\n    className: \"upload-file\",\n    accept: \"image/*\",\n    onChange: e => handleUpload(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"upload-button\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 13\n    }\n  }, \"Upload Here\")))));\n};\n\nexport default Upload;","map":{"version":3,"sources":["/Users/jema/Projects/Upload-File-React-JS/src/components/Upload.js"],"names":["React","useState","Upload","highlight","setHighlight","preview","setPreview","drop","setDrop","handleEnter","e","preventDefault","stopPropagation","console","log","handleOver","handleLeave","handleUpload","file","target","files","dataTransfer","uploadFile","reader","FileReader","readAsBinaryString","onload","fileRes","btoa","result","onerror","backgroundImage"],"mappings":"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","sourcesContent":["import React, { useState } from 'react'\n\nimport './Upload.scss'\n\nconst Upload = () => {\n  const [highlight, setHighlight] = useState(false);\n  const [preview, setPreview] = useState(\"\");\n  const [drop, setDrop] = useState(false);\n\n  const handleEnter = (e) => {\n    e.preventDefault();\n    e.stopPropagation();\n    console.log(\"enter!\");\n\n    preview === \"\" && setHighlight(true);\n  };\n\n  const handleOver = (e) => {\n    e.preventDefault();\n    e.stopPropagation();\n    console.log(\"over!\");\n\n    preview === \"\" && setHighlight(true);\n  };\n\n  const handleLeave = (e) => {\n    e.preventDefault();\n    e.stopPropagation();\n    console.log(\"leave!\");\n    setHighlight(false);\n  };\n\n  const handleUpload = (e) => {\n    e.preventDefault();\n    e.stopPropagation();\n    console.log(\"drop!\");\n    setHighlight(false);\n    setDrop(true);\n\n    const [file] = e.target.files || e.dataTransfer.files;\n\n    uploadFile(file);\n  };\n\n  function uploadFile(file) {\n    const reader = new FileReader();\n    reader.readAsBinaryString(file);\n\n    reader.onload = () => {\n      // this is the base64 data\n      const fileRes = btoa(reader.result);\n      console.log(`data:image/jpg;base64,${fileRes}`);\n      setPreview(`data:image/jpg;base64,${fileRes}`);\n    };\n\n    reader.onerror = () => {\n      console.log(\"There is a problem while uploading...\");\n    };\n  }\n\n  return (\n    <>\n      <div\n        onDragEnter={(e) => handleEnter(e)}\n        onDragLeave={(e) => handleLeave(e)}\n        onDragOver={(e) => handleOver(e)}\n        onDrop={(e) => handleUpload(e)}\n        className={`upload${\n          highlight ? \" is-highlight\" : drop ? \" is-drop\" : \"\"\n        }`}\n        style={{ backgroundImage: `url(${preview})` }}\n      >\n        <form class=\"my-form\">\n          <p>Drag and Drop image here</p>\n          <div className=\"upload-button-wrap\">\n            <input\n              type=\"file\"\n              className=\"upload-file\"\n              accept=\"image/*\"\n              onChange={(e) => handleUpload(e)}\n            />\n            <button className=\"upload-button\">Upload Here</button>\n          </div>\n        </form>\n      </div>\n    </>\n  );\n};\n\nexport default Upload;\n"]},"metadata":{},"sourceType":"module"}